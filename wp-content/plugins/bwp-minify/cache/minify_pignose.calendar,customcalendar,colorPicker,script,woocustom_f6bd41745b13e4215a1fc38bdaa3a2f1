var ComponentName='pignoseCalendar';var ComponentVersion='1.4.3';window[ComponentName]={VERSION:ComponentVersion};var DateManager=(function(){var m_dateCache={};var DateManager=function Constructor(d){this.year=parseInt(d.format('YYYY'),10);this.month=parseInt(d.format('MM'),10);this.prevMonth=parseInt(d.clone().add(-1,'months').format('MM'),10);this.nextMonth=parseInt(d.clone().add(1,'months').format('MM'),10);this.day=parseInt(d.format('DD'),10);this.firstDay=1;this.lastDay=parseInt(d.clone().endOf('month').format('DD'),10);this.weekDay=d.weekday();this.date=d;};DateManager.prototype.toString=function(){return this.date.format('YYYY-MM-DD');};DateManager.Convert=function(year,month,day){var date=Helper.Format('{0}-{1}-{2}',year,month,day);if(typeof m_dateCache[date]==='undefined'){m_dateCache[date]=moment(date,'YYYY-MM-DD');}
return m_dateCache[date];};return DateManager})();var Helper=(function(){var m_formatCache={};var m_classCache={};var m_subClassCache={};var m_regex_upper=/[A-Z]/;var Helper=function Constructor(){};Helper.Format=function(format){if(typeof format==='undefined'||format===''||arguments.length<=1){return'';}else{var args=Array.prototype.slice.call(arguments,1);var key=format+args.join('');if(typeof m_formatCache[key]!=='undefined'){return m_formatCache[key]}else{var len=args.length;for(var idx=0;idx<len;idx++){var value=args[idx];format=format.replace(new RegExp(('((?!\\\\)?\\{'+idx+'(?!\\\\)?\\})'),'g'),value);}}}
m_formatCache[key]=format;return format;};Helper.GetClass=function(name){var key=ComponentName+name;if(typeof m_classCache[key]!=='undefined'){return m_classCache[key];}else{var chars=name.split('');var classNames=[],className;var len=chars.length;for(var idx=0,pos=0;idx<len;idx++){var char=chars[idx];if(typeof char!=='string'){continue;}
if(m_regex_upper.test(char)===true){classNames[pos++]='-';char=char.toString().toLowerCase();}
classNames[pos++]=char;}
className=classNames.join('');m_classCache[key]=className;return className;}};Helper.GetSubClass=function(name){if(typeof m_subClassCache[name]==='undefined'){m_subClassCache[name]=Helper.GetClass(Helper.Format('{0}{1}',ComponentName,name));}
return m_subClassCache[name];};return Helper;})();if(typeof Array.prototype.filter==='undefined'){Array.prototype.filter=function(func){'use strict';if(this==null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(typeof func!=='function'){return[];}
var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(func.call(thisp,val,i,t)){res.push(val);}}}
return res;};}
var ComponentClass=Helper.GetClass(ComponentName);var ComponentPreference={supports:{themes:['light','dark']}};(function($){'use strict';var $window=$(window);var $document=$(document);var _calendarTopClass=Helper.GetSubClass('Top');var _calendarHeaderClass=Helper.GetSubClass('Header');var _calendarBodyClass=Helper.GetSubClass('Body');var _calendarButtonClass=Helper.GetSubClass('Button');var languagePack={supports:['en','ko','fr','ch','de','jp','pt','da','pl','es'],weeks:{en:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],ko:['일','월','화','수','목','금','토'],fr:['Dim','Lun','Mar','Mer','Jeu','Ven','Sam'],ch:['日','一','二','三','四','五','六'],de:['SO','MO','DI','MI','DO','FR','SA'],jp:['日','月','火','水','木','金','土'],pt:['Dom','Seg','Ter','Qua','Qui','Sex','Sab'],da:['Søn','Man','Tir','Ons','Tor','Fre','Lør'],pl:['Nie','Pon','Wto','Śro','Czw','Pią','Sob'],es:['Dom','Lun','Mar','Mié','Jue','Vie','Sáb'],},monthsLong:{en:['January','February','March','April','May','Jun','July','August','September','October','November','December'],ko:['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],fr:['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'],ch:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],de:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],jp:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],pt:['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],da:['Januar','Februar','Marts','April','Maj','Juni','Juli','August','September','Oktober','November','December'],pl:['Styczeń','Luty','Marzec','Kwiecień','Maj','Czerwiec','Lipiec','Sierpień','Wrzesień','Październik','Listopad','Grudzień'],es:['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],},months:{en:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],ko:['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],fr:['Jan','Fév','Mar','Avr','Mai','Juin','Juil','Aoû','Sep','Oct','Nov','Déc'],ch:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],de:['Jän','Feb','Mär','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez'],jp:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],pt:['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'],da:['Jan','Feb','Mar','Apr','Maj','Jun','Jul','Aug','Sep','Okt','Nov','Dec'],pl:['Sty','Lut','Mar','Kwi','Maj','Cze','Lip','Sie','Wrz','Paź','Lis','Gru'],es:['Ene','Feb','Mar','Abr','May','Jun','Jul','Ago','Sep','Oct','Nov','Dec'],}};$.fn[ComponentName]=function(options){var Component={init:function(options){var _this=this;this.settings=$.extend({lang:'en',theme:'light',date:moment(),format:'YYYY-MM-DD',classOnDays:[],enabledDates:[],disabledDates:[],disabledWeekdays:[],disabledRanges:[],weeks:languagePack.weeks.en,monthsLong:languagePack.monthsLong.en,months:languagePack.months.en,pickWeeks:false,initialize:true,multiple:false,toggle:false,reverse:false,buttons:false,modal:false,minDate:null,maxDate:null,select:null,apply:null},options);if(this.settings.lang!=='en'&&$.inArray(this.settings.lang,languagePack.supports)!==-1){this.settings.weeks=languagePack.weeks[this.settings.lang];this.settings.monthsLong=languagePack.monthsLong[this.settings.lang];this.settings.months=languagePack.months[this.settings.lang];}
if(this.settings.theme!=='light'&&$.inArray(this.settings.theme,ComponentPreference.supports.themes)===-1){this.settings.theme='light';}
if(this.settings.pickWeeks===true){if(this.settings.multiple===false){console.error('You must give true at settings.multiple options on PIGNOSE-Calendar for using in pickWeeks option.');}else if(this.settings.toggle===true){console.error('You must give false at settings.toggle options on PIGNOSE-Calendar for using in pickWeeks option.');}}
this.global={calendarHtml:Helper.Format('<div class="{0} {0}-{4}">\
             <div class="{1}">\
              <a href="#" class="{1}-nav {1}-prev">\
               <span class="{1}-icon"></span>\
               <span class="{1}-value"></span>\
              </a>\
              <div class="{1}-date">\
               <p class="{1}-month"></p>\
               <h3 class="{1}-year"></h3>\
              </div>\
              <a href="#" class="{1}-nav {1}-next">\
               <span class="{1}-value"></span>\
               <span class="{1}-icon"></span>\
              </a>\
             </div>\
             <div class="{2}"></div>\
             <div class="{3}"></div>\
            </div>',ComponentClass,_calendarTopClass,_calendarHeaderClass,_calendarBodyClass,_this.settings.theme),calendarButtonsHtml:Helper.Format('<div class="{0}-group">\
               <a href="#" class="{0} {0}-cancel">Cancel</a>\
               <a href="#" class="{0} {0}-apply">OK</a>\
              </div>',_calendarButtonClass)};var rangeClass=Helper.GetSubClass('UnitRange');var rangeFirstClass=Helper.GetSubClass('UnitRangeFirst');var rangeLastClass=Helper.GetSubClass('UnitRangeLast');var activeClass=Helper.GetSubClass('UnitActive');var activePositionClasses=[Helper.GetSubClass('UnitFirstActive'),Helper.GetSubClass('UnitSecondActive')];var toggleActiveClass=Helper.GetSubClass('UnitToggleActive');var toggleInactiveClass=Helper.GetSubClass('UnitToggleInactive');return this.each(function(){var $this=$(this);var $super=$this;var $parent=$this;var local={initialize:null,calendar:$(_this.global.calendarHtml),input:$this.is('input'),renderer:null,current:[null,null],storage:{activeDates:[]},dateManager:new DateManager(_this.settings.date),calendarWrapperHtml:Helper.Format('<div class="{0}"></div>',Helper.GetSubClass('Wrapper')),calendarWrapperOverlayHtml:Helper.Format('<div class="{0}"></div>',Helper.GetSubClass('WrapperOverlay')),context:_this};var len;if(_this.settings.initialize===true){local.initialize=local.current[0]=local.dateManager.date.clone();}
this.local=local;if(_this.settings.reverse===true){local.calendar.addClass(Helper.GetSubClass('Reverse'));}else{local.calendar.addClass(Helper.GetSubClass('Default'));}
len=_this.settings.weeks.length;for(var idx=0;idx<len;idx++){var week=_this.settings.weeks[idx];if(typeof week!=='string'){continue;}
week=week.toUpperCase();var $unit=$(Helper.Format('<div class="{0} {0}-{2}">{1}</div>',Helper.GetSubClass('Week'),week,languagePack.weeks.en[idx].toLowerCase()));$unit.appendTo(local.calendar.find('.'+_calendarHeaderClass));}
if(_this.settings.buttons===true){var $calendarButton=$(_this.global.calendarButtonsHtml);$calendarButton.appendTo(local.calendar);}
if(local.input===true||_this.settings.modal===true){var wrapperActiveClass=Helper.GetSubClass('WrapperActive');var overlayActiveClass=Helper.GetSubClass('WrapperOverlayActive');var $overlay=$('.'+Helper.GetSubClass('WrapperOverlay'));if($overlay.length<1){$overlay=$(local.calendarWrapperOverlayHtml);$overlay.appendTo('body').hide();}
$parent=$(local.calendarWrapperHtml);$parent.appendTo('body');$parent.bind('click',function(event){event.stopPropagation();});$this.bind('click',function(event){event.preventDefault();event.stopPropagation();event.stopImmediatePropagation();setTimeout(function(){$overlay.show();$parent.show();$window.unbind('resize.'+ComponentClass).bind('resize.'+ComponentClass,function(){$parent.css({marginLeft:-$parent.outerWidth()/2,marginTop:-$parent.outerHeight()/2});}).triggerHandler('resize.'+ComponentClass);$super[ComponentName]('set',$this.val());setTimeout(function(){$overlay.addClass(overlayActiveClass);$parent.addClass(wrapperActiveClass);},25);},25);}).bind('focus',function(event){var $this=$(this);$this.blur();});$overlay.bind('click.'+ComponentClass,function(){$parent.trigger('cancel.'+ComponentClass);});$parent.unbind('cancel.'+ComponentClass+' '+'apply.'+ComponentClass).bind('cancel.'+ComponentClass+' '+'apply.'+ComponentClass,function(){$overlay.removeClass(overlayActiveClass).hide();$parent.removeClass(wrapperActiveClass).hide();});}
var generateDateRange=function(){if(local.current[0]===null||local.current[1]===null){return false;}
var firstSelectDate=local.current[0].format('YYYY-MM-DD');var lastSelectDate=local.current[1].format('YYYY-MM-DD');var firstDate=moment(Math.max(local.current[0].valueOf(),local.dateManager.date.clone().startOf('month').valueOf()));var lastDate=moment(Math.min(local.current[1].valueOf(),local.dateManager.date.clone().endOf('month').valueOf()));var firstDateIsUndered=(firstDate.format('YYYY-MM-DD')!==firstSelectDate);var lastDateIsOvered=(lastDate.format('YYYY-MM-DD')!==lastSelectDate);if(firstDateIsUndered===false){firstDate.add(1,'days');}
if(lastDateIsOvered===false){lastDate.add(-1,'days');}
var firstDateFixed=firstDate.format('YYYY-MM-DD');var lastDateFixed=lastDate.format('YYYY-MM-DD');for(;firstDate.format('YYYY-MM-DD')<=lastDate.format('YYYY-MM-DD');firstDate.add(1,'days')){var date=firstDate.format('YYYY-MM-DD');var isRange=true;var $target=local.calendar.find(Helper.Format('.{0}[data-date="{1}"]',Helper.GetSubClass('Unit'),date)).addClass(rangeClass);if(date===firstDateFixed){$target.addClass(rangeFirstClass);}
if(date===lastDateFixed){$target.addClass(rangeLastClass);}}};local.renderer=function(){local.calendar.appendTo($parent.empty());local.calendar.find('.'+_calendarTopClass+'-year').text(local.dateManager.year);local.calendar.find('.'+_calendarTopClass+'-month').text(_this.settings.monthsLong[local.dateManager.month-1]);local.calendar.find(Helper.Format('.{0}-prev .{0}-value',_calendarTopClass)).text(_this.settings.months[local.dateManager.prevMonth-1].toUpperCase());local.calendar.find(Helper.Format('.{0}-next .{0}-value',_calendarTopClass)).text(_this.settings.months[local.dateManager.nextMonth-1].toUpperCase());if(_this.settings.buttons===true){$calendarButton.find('.'+_calendarButtonClass).bind('click',function(event){event.preventDefault();event.stopPropagation();var $this=$(this);if($this.hasClass(_calendarButtonClass+'-apply')){$super.trigger('apply.'+ComponentName,local);var value=''
if(_this.settings.toggle===true){value=local.storage.activeDates.join(', ');}else if(_this.settings.multiple===true){var dateValues=[];if(local.current[0]!==null){dateValues.push(local.current[0].format(_this.settings.format));}
if(local.current[1]!==null){dateValues.push(local.current[1].format(_this.settings.format));}
value=dateValues.join(' ~ ');}else{value=local.current[0]===null?'':moment(local.current[0]).format(_this.settings.format);}
if(local.input===true){$super.val(value).triggerHandler('change');}
if(typeof _this.settings.apply==='function'){_this.settings.apply.call($super,value);}
$parent.triggerHandler('apply.'+ComponentClass);}else{$parent.triggerHandler('cancel.'+ComponentClass);}});}
var $calendarBody=local.calendar.find('.'+_calendarBodyClass).empty();var firstDate=DateManager.Convert(local.dateManager.year,local.dateManager.month,local.dateManager.firstDay);var firstWeekday=firstDate.weekday();var $unitList=[],currentFormat=[local.current[0]===null?null:local.current[0].format('YYYY-MM-DD'),local.current[1]===null?null:local.current[1].format('YYYY-MM-DD')],minDate=_this.settings.minDate===null?null:moment(_this.settings.minDate),maxDate=_this.settings.maxDate===null?null:moment(_this.settings.maxDate);for(var i=0;i<firstWeekday;i++){var $unit=$(Helper.Format('<div class="{0} {0}-{1}"></div>',Helper.GetSubClass('Unit'),languagePack.weeks.en[i].toLowerCase()));$unitList.push($unit);}
for(var i=local.dateManager.firstDay;i<=local.dateManager.lastDay;i++){var iDate=DateManager.Convert(local.dateManager.year,local.dateManager.month,i);var iDateFormat=iDate.format('YYYY-MM-DD');var $unit=$(Helper.Format('<div class="{0} {0}-date {0}-{3}" data-date="{1}"><a href="#">{2}</a></div>',Helper.GetSubClass('Unit'),iDate.format('YYYY-MM-DD'),i,languagePack.weeks.en[iDate.weekday()].toLowerCase()));if(_this.settings.enabledDates.length>0){if($.inArray(iDateFormat,_this.settings.enabledDates)===-1){$unit.addClass(Helper.GetSubClass('UnitDisabled'));}}else if(_this.settings.disabledWeekdays.length>0&&$.inArray(iDate.weekday(),_this.settings.disabledWeekdays)!==-1){$unit.addClass(Helper.GetSubClass('UnitDisabled')).addClass(Helper.GetSubClass('UnitDisabledWeekdays'));}else if((minDate!==null&&minDate.diff(iDate)>0)||(maxDate!==null&&maxDate.diff(iDate)<0)){$unit.addClass(Helper.GetSubClass('UnitDisabled')).addClass(Helper.GetSubClass('UnitDisabledRange'));}else if($.inArray(iDateFormat,_this.settings.disabledDates)!==-1){$unit.addClass(Helper.GetSubClass('UnitDisabled'));}else if(_this.settings.disabledRanges.length>0){var disabledRangesLength=_this.settings.disabledRanges.length;for(var j=0;j<disabledRangesLength;j++){var disabledRange=_this.settings.disabledRanges[j];var disabledRangeLength=disabledRange.length;if(iDate.diff(moment(disabledRange[0]))>=0&&iDate.diff(moment(disabledRange[1]))<=0){$unit.addClass(Helper.GetSubClass('UnitDisabled')).addClass(Helper.GetSubClass('UnitDisabledRange')).addClass(Helper.GetSubClass('UnitDisabledMultipleRange'));break;}}}
if(_this.settings.toggle===true){if($.inArray(iDateFormat,local.storage.activeDates)!==-1&&local.storage.activeDates.length>0){$unit.addClass(toggleActiveClass);}else{$unit.addClass(toggleInactiveClass);}}else if($unit.hasClass(Helper.GetSubClass('UnitDisabled'))===false){if(_this.settings.multiple===true){if((currentFormat[0]!==null&&iDateFormat===currentFormat[0])){$unit.addClass(activeClass).addClass(activePositionClasses[0]);}
if((currentFormat[1]!==null&&iDateFormat===currentFormat[1])){$unit.addClass(activeClass).addClass(activePositionClasses[1]);}}else{if((currentFormat[0]!==null&&iDateFormat===currentFormat[0])&&$.inArray(currentFormat[0],_this.settings.disabledDates)===-1&&(_this.settings.enabledDates.length<1||$.inArray(currentFormat[0],_this.settings.enabledDates)!==-1)){$unit.addClass(activeClass).addClass(activePositionClasses[0]);}}}
$unitList.push($unit);$unit.bind('click',function(event){event.preventDefault();event.stopPropagation();var $this=$(this);var position=0;var date=$this.data('date');if($this.hasClass(Helper.GetSubClass('UnitDisabled'))){return false;}
if(local.input===true&&_this.settings.multiple===false&&_this.settings.buttons===false){$super.val(moment(date).format(_this.settings.format));$parent.triggerHandler('apply.'+ComponentClass);return false;}
if(local.initialize!==null&&local.initialize.format('YYYY-MM-DD')===date&&_this.settings.toggle===false){}else{if(_this.settings.toggle===true){var match=local.storage.activeDates.filter(function(e,i){return e===date;});local.current[position]=moment(date);if(match.length<1){local.storage.activeDates.push(date);$this.addClass(toggleActiveClass).removeClass(toggleInactiveClass);}else{var index=0;for(var idx=0;idx<local.storage.activeDates.length;idx++){var targetDate=local.storage.activeDates[idx];if(date===targetDate){index=idx;break;}}
local.storage.activeDates.splice(index,1);$this.removeClass(toggleActiveClass).addClass(toggleInactiveClass);}}else{if($this.hasClass(activeClass)===true&&_this.settings.pickWeeks===false){if(_this.settings.multiple===true){if($this.hasClass(activePositionClasses[0])){position=0;}else if(activePositionClasses[1]){position=1;}}
$this.removeClass(activeClass).removeClass(activePositionClasses[position]);local.current[position]=null;}else{if(_this.settings.pickWeeks===true){if($this.hasClass(activeClass)===true||$this.hasClass(rangeClass)===true){for(var j=0;j<2;j++){local.calendar.find('.'+activeClass+'.'+activePositionClasses[j]).removeClass(activeClass).removeClass(activePositionClasses[j]);}
local.current[0]=null;local.current[1]=null;}else{local.current[0]=moment(date).startOf('week');local.current[1]=moment(date).endOf('week');for(var j=0;j<2;j++){local.calendar.find('.'+activeClass+'.'+activePositionClasses[j]).removeClass(activeClass).removeClass(activePositionClasses[j]);local.calendar.find(Helper.Format('.{0}[data-date="{1}"]',Helper.GetSubClass('Unit'),local.current[j].format('YYYY-MM-DD'))).addClass(activeClass).addClass(activePositionClasses[j]);}}}else{if(_this.settings.multiple===true){if(local.current[0]===null){position=0;}else if(local.current[1]===null){position=1;}else{position=0;local.current[1]=null;local.calendar.find('.'+activeClass+'.'+activePositionClasses[1]).removeClass(activeClass).removeClass(activePositionClasses[1]);}}
local.calendar.find('.'+activeClass+'.'+activePositionClasses[position]).removeClass(activeClass).removeClass(activePositionClasses[position]);$this.addClass(activeClass).addClass(activePositionClasses[position]);local.current[position]=moment(date);}
if(_this.settings.multiple===true){local.calendar.find('.'+rangeClass).removeClass(rangeClass).removeClass(rangeFirstClass).removeClass(rangeLastClass);}
if(_this.settings.multiple===true&&local.current[0]!==null&&local.current[1]!==null){if(local.current[0].diff(local.current[1])>0){var tmp=local.current[0];local.current[0]=local.current[1];local.current[1]=tmp;tmp=null;local.calendar.find('.'+activeClass).each(function(){var $this=$(this);for(var idx in activePositionClasses){var className=activePositionClasses[idx];$this.toggleClass(className);}});}
if(local.input===true&&_this.settings.buttons===false){var dateValues=[]
if(local.current[0]!==null){dateValues.push(local.current[0].format(_this.settings.format));}
if(local.current[1]!==null){dateValues.push(local.current[1].format(_this.settings.format));}
$super.val(dateValues.join(', '));$parent.trigger('apply.'+ComponentClass);}
generateDateRange.call();}}}}
local.initialize=null;if(typeof _this.settings.select==='function'){_this.settings.select.call($this,local.current,local);}});}
var lastDate=DateManager.Convert(local.dateManager.year,local.dateManager.month,local.dateManager.lastDay);var lastWeekday=lastDate.weekday();for(var i=lastWeekday+1;$unitList.length<=7*5;i++){var $unit=$(Helper.Format('<div class="{0} {0}-{1}"></div>',Helper.GetSubClass('Unit'),languagePack.weeks.en[i%7].toLowerCase()));$unitList.push($unit);}
var $row=null;var unitListLen=$unitList.length;for(var i=0;i<unitListLen;i++){var e=$unitList[i];if(i%7==0||i+1>=unitListLen){if($row!==null){$row.appendTo($calendarBody);}
if(i+1<unitListLen){$row=$(Helper.Format('<div class="{0}"></div>',Helper.GetSubClass('Row')));}}
$row.append(e);}
local.calendar.find('.'+_calendarTopClass+'-nav').bind('click',function(event){event.preventDefault();event.stopPropagation();var $this=$(this);if($this.hasClass(_calendarTopClass+'-prev')){local.dateManager=new DateManager(local.dateManager.date.clone().add(-1,'months'));local.renderer.call();}
else if($this.hasClass(_calendarTopClass+'-next')){local.dateManager=new DateManager(local.dateManager.date.clone().add(1,'months'));local.renderer.call();}});if(_this.settings.multiple===true){local.calendar.find('.'+rangeClass).removeClass(rangeClass).removeClass(rangeFirstClass).removeClass(rangeLastClass);generateDateRange.call();}};local.renderer.call();$this[0][ComponentName]=local;});},set:function(date){if(typeof date!=='undefined'&&date!==null&&date!==''){var dateSplit=date.split('~').map(function(e){var f=$.trim(e);return(f==='null'||f==='')?null:f;});this.each(function(){var $this=$(this);var local=$this[0][ComponentName];var context=local.context;var dateArray=[(typeof dateSplit[0]==='undefined'||dateSplit[0]===null)?null:moment(dateSplit[0],context.settings.format),(typeof dateSplit[1]==='undefined'||dateSplit[1]===null)?null:moment(dateSplit[1],context.settings.format)];local.dateManager=new DateManager(dateArray[0]);if(context.settings.pickWeeks===true){if(dateArray[0]!==null){var date=dateArray[0];dateArray[0]=date.clone().startOf('week');dateArray[1]=date.clone().endOf('week');console.log(dateArray);}}
if(context.settings.toggle===true){local.storage.activeDates=dateSplit;}else{local.current=dateArray;}
local.renderer.call();});}},select:function(day){this.each(function(){var local=this.local;var dateManager=local.dateManager;var date=Helper.Format('{0}-{1}-{2}',dateManager.year,dateManager.month,day);$(this).find(Helper.Format('.{0}[data-date="{1}"]',Helper.GetSubClass('Unit'),date)).triggerHandler('click');});}};if(Component[options]){return Component[options].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof options==='object'||!options){return Component.init.apply(this,arguments);}else{console.error('Argument error are occured.');}};})(jQuery);;jQuery(function($){$('#wrapper .version strong').text('v'+pignoseCalendar.VERSION);function onClickHandler(date,obj){var $calendar=obj.calendar;var $box=$calendar.parent().siblings('.box').show();var text='You choose date ';var chooseDate='';if(date[0]!==null){chooseDate=date[0].format('YYYY-MM-DD');text+=date[0].format('YYYY-MM-DD');}
if(date[0]!==null&&date[1]!==null){text+=' ~ ';}else if(date[0]===null&&date[1]==null){text+='nothing';}
if(date[1]!==null){chooseDate=date[1].format('YYYY-MM-DD');text+=date[1].format('YYYY-MM-DD');}
var currentDate=moment().format('YYYY-MM-DD');if(!chooseDate)
{$('.pignose-calendar-unit-date[data-date="'+currentDate+'"]').click();}
else{$('#custom_order_pickup_date').val(chooseDate);if($('[data-rangeslider]').length)
{if(chooseDate==currentDate)
{var currentHour=parseInt(moment().format("H"))+1;if(currentHour<15){currentHour=15;}
$('[data-rangeslider]').attr('min',currentHour);if(parseInt($('[data-rangeslider]').val())<=currentHour)
{$('[data-rangeslider]').val(currentHour);$('[data-rangeslider]').change()}}
else{$('[data-rangeslider]').attr('min',15);}}
$('[data-rangeslider]').rangeslider('update',true);}
$box.text(text);}
$('.calendar').pignoseCalendar({select:onClickHandler,lang:'jp',disabledRanges:[['1011-10-05',moment().subtract(1,'days').format('YYYY-MM-DD')],]});$('.input-calendar').pignoseCalendar({buttons:true,});var $btn=$('.btn-calendar').pignoseCalendar({modal:true,buttons:true,apply:function(date){$btn.next().show().text('You applied date '+date+'.');}});$('.calendar-dark').pignoseCalendar({theme:'dark',select:onClickHandler});$('.multi-select-calendar').pignoseCalendar({multiple:true,select:onClickHandler});$('.toggle-calendar').pignoseCalendar({toggle:true,select:function(date,obj){var $target=obj.calendar.parent().next().show().html('You selected '+
(date[0]===null?'null':date[0].format('YYYY-MM-DD'))+'.'+'<br /><br />'+'<strong>Active dates</strong><br /><br />'+'<div class="active-dates"></div>');for(var idx in obj.storage.activeDates){var date=obj.storage.activeDates[idx];if(typeof date!=='string'){continue;}
$target.find('.active-dates').append('<span class="ui label default">'+date+'</span>');}}});!(function(){var times=30;var disabledDates=[];for(var i=0;i<times;){var year=moment().year();var month=0;var day=parseInt(Math.random()*364+1);var date=moment().year(year).month(month).date(day).format('YYYY-MM-DD');if($.inArray(date,disabledDates)===-1){disabledDates.push(date);i++;}}
disabledDates.sort();var $dates=$('.disabled-dates-calendar').siblings('.guide').find('.guide-dates');for(var idx in disabledDates){$dates.append('<span>'+disabledDates[idx]+'</span>');}
$('.disabled-dates-calendar').pignoseCalendar({select:onClickHandler,disabledDates:disabledDates});}());$('.disabled-weekdays-calendar').pignoseCalendar({select:onClickHandler,disabledWeekdays:[0,6]});var minDate=moment().set('dates',Math.min(moment().day(),2+1)).format('YYYY-MM-DD');var maxDate=moment().set('dates',Math.max(moment().day(),24+1)).format('YYYY-MM-DD');$('.disabled-range-calendar').pignoseCalendar({select:onClickHandler,minDate:minDate,maxDate:maxDate});$('.pick-weeks-calendar').pignoseCalendar({pickWeeks:true,multiple:true,select:onClickHandler});$('.disabled-ranges-calendar').pignoseCalendar({select:onClickHandler,disabledRanges:[['2016-10-05','2016-10-21'],['2016-11-01','2016-11-07'],['2016-11-19','2016-11-21'],['2016-12-05','2016-12-08'],['2016-12-17','2016-12-18'],['2016-12-29','2016-12-30'],['2017-01-10','2017-01-20'],['2017-02-10','2017-04-11'],['2017-07-04','2017-07-09'],['2017-12-01','2017-12-25'],['2018-02-10','2018-02-26'],['2018-05-10','2018-09-17'],]});$('.language-calendar').each(function(){var $this=$(this);var lang=$this.data('lang');$this.pignoseCalendar({lang:lang});});$('.menu .item').tab();});;if(typeof Object.create!=='function'){Object.create=function(obj){function F(){};F.prototype=obj;return new F();};}
(function($,window,document,undefined){var CPicker={init:function(options,elem){var self=this;self.elem=elem;self.$elem=$(elem);self.pickerState=self.bodyState=[];self.options=self.setOptions(options);self.$elem.bind("click",function(evt){evt.preventDefault();if(self.pickerWindow){if(self.pickerWindow.attr("data-bmd-cp")=="closed"){self.showMe();return true;}
else{self.hideMe();return true;}}
if(typeof self.options.colors=="string")
{console.log(self.options);self.loadColors(self.options.colors).done(function(data,status,jqXHR){if(typeof data=='object')
{self.options.colors=data;self.build();return true;}}).fail(function(jqXHR,status,errorThrown){console.log("FAIL! "+errorThrown);self.build();return false;});}
else{self.build();}});},build:function(e){var self=this;self.colors=self.collectColors();self.pickerWindow=$(self.template.div,{class:'bmd-cp-window'}).appendTo("body");self.pickerContainer=$(self.template.div,{class:'bmd-cp-container'}).appendTo(self.pickerWindow);self.itemContainer=$(self.template.itemContainer,{class:'bmd-cp-item-container'}).appendTo(self.pickerContainer);var itemRow;$.each(self.colors,function(key,val){if(key==0||(key)%self.options.rowitem==0)
{itemRow=$(self.template.itemRow,{class:'bmd-cp-item-row'}).appendTo(self.itemContainer);}
c_item=$(self.template.item);c_item.css({backgroundColor:val,width:self.options.itemwidth,height:self.options.itemheight}).attr("title",self.returnColor(val)).data("color",val).bind("click",function(e){$this=$(this);e.preventDefault();self.options.onSelect(self.$elem,self.returnColor($this.data("color")));self.hideMe();});c_item.appendTo(itemRow);});t=self.colors.length>self.options.rowitem?self.colors.length%self.options.rowitem:0;self.itemContainer.find('td:last').attr('colspan',t+1);self.buildControls();self.putInsertForm();self.showMe(true);},setOptions:function(options){var self=this;var settings=[],dataSettings=[];settings=$.extend({},$.fn.colorPicker.options,options);dataSettings=self.$elem.data();$.each(dataSettings,function(key,val){if(typeof val=='string'){var res=val.match(/^\[|\]$/g);if(res!==null)
dataSettings[key]=eval(val);}});return $.extend({},settings,dataSettings);},loadColors:function(colorURL){return $.ajax({dataType:"json",url:colorURL});},collectColors:function(){var self=this;var colors=self.options.colors;if(self.options.customcolors.length>0)
colors=colors.concat(self.options.customcolors);return colors;},setPosition:function(){var self=this,target,picker;target=self.getElementOffset(self.$elem);picker=self.getElementOffset(self.pickerWindow);wWidth=$(window).width();switch(self.options.alignment.toLowerCase())
{case'tl':left=target.l;left=(parseInt(left+picker.w+self.btnClose.width())>=wWidth)?wWidth-picker.w-self.btnClose.width()-5:left;self.pickerWindow.css({left:left,top:target.t-(picker.h+2)});break;case'tr':left=(target.l+target.w)-picker.w;left=(left<=0)?5:left;self.pickerWindow.css({left:left,top:target.t-(picker.h+2)});break;case'br':left=(target.l+target.w)-picker.w;left=(left<=0)?5:left;self.pickerWindow.css({left:left,top:target.t+target.h+2});break;default:left=target.l;left=(parseInt(left+picker.w+self.btnClose.width())>=wWidth)?wWidth-picker.w-self.btnClose.width():left;self.pickerWindow.css({left:left,top:target.t+target.h+2});break;}},getControlPanel:function(){var self=this;if(!self.controlContainer)
self.controlContainer=$(self.template.div,{class:'bmd-cp-controls-container'}).appendTo(self.pickerContainer);return self.controlContainer;},putInsertForm:function(){var self=this;if(self.options.insertcode===true){inputLabel=$(self.template.button).addClass('bmd-cp-button-prefix').appendTo(self.getControlPanel()).bind('click',function(e){e.preventDefault();self.inputColor.focus();});self.inputColor=$(self.template.input).addClass('bmd-cp-insert-input').appendTo(self.getControlPanel());self.buttonColor=$(self.template.button).addClass('bmd-cp-button-accept').appendTo(self.getControlPanel()).bind("click",function(e){e.preventDefault();code=self.inputColor.val();if(!self.isHexColor(code)){self.inputColor.focus().select();return false;}
self.options.onSelect(self.$elem,self.returnColor(code));self.hideMe();});}},buildControls:function(){var self=this;if(self.options.buttonclose===true)
self.getBtnClose();if(self.options.buttonfullscreen===true&&!self.detectMobile())
self.getBtnFullscreen();},getBtnClose:function(){var self=this;if(!self.btnClose)
self.btnClose=self.setButton('bmd-cp-button-close','Close',self.pickerContainer).bind('click',function(e){e.preventDefault();self.hideMe();});return self.btnClose;},getBtnFullscreen:function(){var self=this;if(!self.btnFullscreen)
self.btnFullscreen=self.setButton('bmd-cp-button-fullscreen','Fullscreen',self.pickerContainer).bind('click',function(e){e.preventDefault();self.fullscreen();});if(!self.btnClose)
self.btnFullscreen.css('top',5);return self.btnFullscreen;},setButton:function(css,title,container){var self=this;return $(self.template.button).addClass(css+' bmd-cp-controls').attr('title',title).appendTo(container);},setFullscreen:function(){var self=this;self.pickerWindow.css({width:$(window).width(),height:$(window).height(),top:$(window).scrollTop(),left:0});totalRows=parseInt(self.colors.length/self.options.rowitem);cHeight=self.pickerWindow.height()-20;o=self.getElementOffset(self.getControlPanel());cHeight-=o.h;if($(window).width()<$(window).height())
{if(!self.itemContainer.hasClass('inverted'))
{self.itemContainer.addClass('inverted');self.invertCells(self.itemContainer);}
self.itemContainer.find('td').css('height',cHeight/self.options.rowitem);}
else
{if(self.itemContainer.hasClass('inverted'))
{self.itemContainer.removeClass('inverted');self.invertCells(self.itemContainer);}
self.itemContainer.find('td').css('height',cHeight/totalRows);}},fullscreen:function(){var self=this;if(!self.pickerWindow.hasClass('bmd-cp-fullscreen')){self.pickerState=self.getElementOffset(self.pickerWindow);self.pickerWindow.addClass('bmd-cp-fullscreen');}
if(!self.detectMobile()){self.getBtnFullscreen().removeClass('bmd-cp-controls').attr('title','Normal').appendTo(self.getControlPanel()).unbind('click').bind('click',function(){self.minimize();});}
self.getBtnClose().removeClass('bmd-cp-controls').appendTo(self.getControlPanel());self.noScroll(true);self.setFullscreen();self.hideOnEsc();},minimize:function(){var self=this;self.pickerWindow.css({width:self.pickerState.w,height:self.pickerState.h,top:self.pickerState.t,left:self.pickerState.l}).removeClass('bmd-cp-fullscreen');self.getBtnFullscreen().addClass('bmd-cp-controls').appendTo(self.pickerContainer).bind('click',function(e){e.preventDefault();self.fullscreen();});if(self.options.buttonclose===false){self.getBtnClose().remove();self.btnClose=false;}
else{self.getBtnClose().addClass('bmd-cp-controls').appendTo(self.pickerContainer);}
if(self.itemContainer.hasClass('inverted')){self.itemContainer.removeClass('inverted');self.invertCells(self.itemContainer);}
self.itemContainer.find('td').height(self.options.itemheight).width(self.options.itemwidth);self.noScroll();$(document).unbind(".cpEvents");$(window).unbind("scroll.cpEvents");},showMe:function(firstLoad){var self=this;if($(".bmd-cp-window[data-bmd-cp='open']").length){$(".bmd-cp-window").attr("data-bmd-cp","closed").hide();$(document).unbind('.cpEvents');$(window).unbind('.cpEvents');}
self.pickerWindow.attr("data-bmd-cp","open");self.pickerWindow.show();if(firstLoad!==true&&self.pickerWindow.hasClass("bmd-cp-fullscreen"))
{self.noScroll(true);self.setFullscreen();self.hideOnEsc();}
else
{self.setPosition();}
if(firstLoad===true&&(self.detectMobile()||self.options.fullscreen===true)){self.fullscreen();}
$(document).bind('mouseup.cpEvents',function(e){if(!self.pickerWindow.is(e.target)&&!self.$elem.is(e.target)&&self.pickerWindow.has(e.target).length===0){self.hideMe();}});$(window).bind('resize.cpEvents',function(){if(self.pickerWindow.hasClass("bmd-cp-fullscreen"))
self.setFullscreen();else
self.setPosition();});},hideMe:function(){var self=this;self.pickerWindow.attr("data-bmd-cp","closed");self.pickerWindow.hide();self.noScroll();$(document).unbind('.cpEvents');$(window).unbind('.cpEvents');},hideOnEsc:function(){var self=this;if(self.options.esc===true)
{$(document).bind("keydown.cpEvents",function(event){if(event.keyCode==27)
self.hideMe();return true;});}},noScroll:function(isHide){var self=this;if(isHide===true)
{self.bodyState.overflow=self.bodyState.overflow||$('body').css('overflow');$('html, body').css({'overflow':'hidden','overflow-y':'hidden'});}
else
{$('html, body').css({'overflow':self.bodyState.overflow,'overflow-y':self.bodyState.overflow});}},getElementOffset:function(el){var o=[];dom_el=el.get(0);o.w=dom_el.offsetWidth;o.h=dom_el.offsetHeight;o.l=el.offset().left;o.t=el.offset().top;return o;},returnColor:function(h){var self=this;h=h.charAt(0)=='#'?h.substring(1,7):h;c=self.hexToRGB(h);switch(self.options.colorformat.toLowerCase()){case'rgb':return'rgb('+c.r+','+c.g+','+c.b+')';break;case'rgba':return'rgba('+c.r+','+c.g+','+c.b+',1.0)';break;case'0x':return'0x'+h;break;default:return'#'+h;break;}},isHexColor:function(h){return h.length===6&&!isNaN(parseInt(h,16));},hexToRGB:function(h){var color=[];h=h.charAt(0)=='#'?h.substring(1,7):h;color.r=parseInt(h.substring(0,2).toString(),16);color.g=parseInt(h.substring(2,4).toString(),16);color.b=parseInt(h.substring(4,6).toString(),16);return color;},detectMobile:function(){return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));},invertCells:function(table){var newrows=[];table.find("tr").each(function(r){$(this).find("td").each(function(c){newrows[c]=newrows[c]||$("<tr></tr>");newrows[c].append($(this));rowspan=$(this).attr('colspan')?$(this).attr('colspan'):0;colspan=$(this).attr('rowspan')?$(this).attr('rowspan'):0;if(rowspan>0)
$(this).attr('rowspan',rowspan).removeAttr('colspan');if(colspan>0)
$(this).attr('colspan',colspan).removeAttr('rowspan');});}).remove();$.each(newrows,function(){table.append(this);});},template:{div:'<div/>',itemContainer:'<table/>',itemRow:'<tr/>',item:'<td/>',input:'<input type="text" maxlength="6" placeholder="FF6600"/>',button:'<button type="button">&nbsp;</button>'}};$.fn.colorPicker=function(options){return this.each(function(){var myCPicker=Object.create(CPicker);myCPicker.init(options,this);});};$.fn.colorPicker.options={colors:['#ffffff','#000000','#eeece1','#1f497d','#4f81bd','#c0504d','#9bbb59','#8064a2','#4bacc6','#f79646','#ffff00','#f2f2f2','#7f7f7f','#ddd9c3','#c6d9f0','#dbe5f1','#f2dcdb','#ebf1dd','#e5e0ec','#dbeef3','#fdeada','#fff2ca','#d8d8d8','#595959','#c4bd97','#8db3e2','#b8cce4','#e5b9b7','#d7e3bc','#ccc1d9','#b7dde8','#fbd5b5','#ffe694','#bfbfbf','#3f3f3f','#938953','#548dd4','#95b3d7','#d99694','#c3d69b','#b2a2c7','#a5d0e0','#fac08f','#f2c314','#a5a5a5','#262626','#494429','#17365d','#366092','#953734','#76923c','#5f497a','#92cddc','#e36c09','#c09100','#7f7f7f','#0c0c0c','#1d1b10','#0f243e','#244061','#632423','#4f6128','#3f3151','#31859b','#974806','#7f6000'],customcolors:[],itemheight:20,itemwidth:20,insertcode:false,rowitem:11,buttonclose:true,buttonfullscreen:true,fullscreen:false,esc:true,alignment:'bl',colorformat:'hex',onSelect:function(ui,color){console.log(color);}};})(jQuery,window,document);;;$(function(){$('#username').attr('placeholder','ユーザー名またはメールアドレス');$('#password').attr('placeholder','パスワード');$('#reg_email').attr('placeholder','メールアドレス');$('#reg_password').attr('placeholder','パスワード');$('#reg_username').attr('placeholder','ユーザー名');$('input#username').wrap('<span class="user"></span>');$('input#password').wrap('<span class="pass"></span>');$('input#reg_email').wrapAll('<span class="email"></span>');$('input#reg_username').wrapAll('<span class="user"></span>');$(".order-detail-custom-table > .cake_info_wraper > .row:has(.col-xs-3)").addClass('first-child');$("#confirmation_content > .order-detail-custom-table > .cake_info_wraper > .row:has(.col-xs-3)").addClass('first-child');$(".cake_info_wraper > .row:has(.col-xs-12)").addClass('deco-col');$('#customer_login > div.u-column1 > h2, #customer_login > div.u-column1 > form').wrapAll('<div class="inner"></div>');$('#customer_login > div.u-column2 > h2, #customer_login > div.u-column2 > form').wrapAll('<div class="inner"></div>');$('body.woocommerce-edit-address .woocommerce .woocommerce-MyAccount-content .woocommerce-Addresses.col2-set > .col-1').hide();$('body.woocommerce-edit-address .woocommerce .woocommerce-MyAccount-content .woocommerce-Addresses.col2-set > .col-2').removeClass('col-2');$('#customer_details > .col-1 > .woocommerce-billing-fields > h3').addClass('numbering display-table');$('#customer_details h3.numbering').wrapInner('<span class="display-table-cell pl-2"></span>');$('<span class="title-number display-table-cell"></span>').insertBefore('#customer_details h3.numbering .pl-2');$('<span class="title-number display-table-cell"></span>').insertBefore('#checkoutbox .columns h4.heading-form .pl-2');$('#customer_details .col-1 h3.numbering .title-number').append('1');$('#checkoutbox .columns h4.heading-form .title-number').append('2');});;$(function(){$(window).on('load',function(){var windowWidth=$(window).width();var windowHeight=$(window).height();if(windowWidth>479){$('#slideshow-container').css('height',windowHeight+'px');}
if(windowWidth>479&&windowHeight>600&&windowHeight<=660){$('.rabels_3columns').addClass('minheight1');$('.label-icon > img').wrap('<div class="table-cell tabel-cell-icon"></div>');$('.label-icon').prepend('<div class="table-cell table-cell-space"></div>');$('.tabel-cell-icon').after('<div class="table-cell table-cell-space"></div>');}else if(windowWidth>479&&windowHeight<=600){$('.rabels_3columns').addClass('minheight2');}});$(window).on('load resize',function(){});});;
/*! HTML5 Shiv v3.6 stable | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
(function(l,f){function m(){var a=e.elements;return"string"==typeof a?a.split(" "):a}function i(a){var b=n[a[o]];b||(b={},h++,a[o]=h,n[h]=b);return b}function p(a,b,c){b||(b=f);if(g)return b.createElement(a);c||(c=i(b));b=c.cache[a]?c.cache[a].cloneNode():r.test(a)?(c.cache[a]=c.createElem(a)).cloneNode():c.createElem(a);return b.canHaveChildren&&!s.test(a)?c.frag.appendChild(b):b}function t(a,b){if(!b.cache)b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag();a.createElement=function(c){return!e.shivMethods?b.createElem(c):p(c,a,b)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/\w+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(e,b.frag)}function q(a){a||(a=f);var b=i(a);if(e.shivCSS&&!j&&!b.hasCSS){var c,d=a;c=d.createElement("p");d=d.getElementsByTagName("head")[0]||d.documentElement;c.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";c=d.insertBefore(c.lastChild,d.firstChild);b.hasCSS=!!c}g||t(a,b);return a}var k=l.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,j,o="_html5shiv",h=0,n={},g;(function(){try{var a=f.createElement("a");a.innerHTML="<xyz></xyz>";j="hidden"in a;var b;if(!(b=1==a.childNodes.length)){f.createElement("a");var c=f.createDocumentFragment();b="undefined"==typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}g=b}catch(d){g=j=!0}})();var e={elements:k.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==k.shivCSS,supportsUnknownElements:g,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:q,createElement:p,createDocumentFragment:function(a,b){a||(a=f);if(g)return a.createDocumentFragment();for(var b=b||i(a),c=b.frag.cloneNode(),d=0,e=m(),h=e.length;d<h;d++)c.createElement(e[d]);return c}};l.html5=e;q(f)})(this,document);